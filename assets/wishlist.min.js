!function(){var t={strings:window.themeVariables.strings,addonStrings:window.themeVariables.strings.addons.wishlist};const i={addText:t.addonStrings.add,removeText:t.addonStrings.remove,localStorageName:"wishlist",facebookPageId:t.strings.facebookPageId},n={addonContainer:".dbtfy-wish-list-container",addButtons:".dbtfy-wish-list__button--add",removeButtons:".dbtfy-wish-list__button--remove",wlCounts:".js-wishlist-count",wishlistSocial:".js-wishlist-socials",noItems:".js-wishlist-no-items",item:".dbtfy-wish-list__item",bubbleIcons:".js-wishlist-bubble",pageTemplate:".js-wishlist-template",page:".dbtfy-wish-list--page",wishListButtonText:".dbtfy-wish-list__button-text"},o={enabledAddon:"dbtfy-wishlist-enabled",inactive:"btn--reveal-primary",active:"btn--primary",productPageButton:"dbtfy-wish-list__button--product"};if(t=document.querySelector(n.page)){let e=g();if(-1<window.location.href.indexOf("?wishlist")&&(t=window.location.href.split("?"),new URLSearchParams(t[1]).get("wishlist").split(",").forEach(t=>{e&&e.length?(e=e.filter(e=>e!==t)).push(t):e=[t]}),A(e=JSON.stringify(e)),w(),e=g()),e&&e.length){const L=e.filter(e=>!!e);y(n.noItems,!1),y(n.wishlistSocial,!0),theme.helpers.loadComponent("fetchProductMarkup",()=>{theme.FetchProductMarkup({template:"wish-list",productHandles:L},e=>{let s=0;var t,e=Object.entries(e).reduce((e,[t,a])=>a.includes("<!doctype html>")?e:(s++,e+`<div class="card fadeInUp dbtfy-wish-list__item" data-product-handle="${t}"><div class="card-body">${a}</div></div>`),"");S(s),e?((t=document.querySelector(n.pageTemplate))&&t.insertAdjacentHTML("afterbegin",e),p(),f(),"drawer"===window.themeVariables.settings.cartType&&theme.helpers.loadComponent("ajaxCart",()=>{theme.ajaxCart.init()}),document.dispatchEvent(new CustomEvent("theme:addon:wishlist:loaded")),document.dispatchEvent(new CustomEvent("theme:addon:custom-currencies:convert-prices"))):(y(n.noItems,!0),y(n.wishlistSocial,!1),S(0))})});var a,t=window.location.href+"%3Fwishlist="+L,s=document.querySelector(n.wishlistSocial),r=s?.querySelector(".btn--facebook"),d=s?.querySelector(".btn--twitter"),c=s?.querySelector(".btn--pinterest"),l=s?.querySelector(".btn--whatsapp"),u=s?.querySelector(".btn--linkedin"),h=s?.querySelector(".btn--reddit"),m=s?.querySelector(".btn--email"),s=s?.querySelector(".btn--messenger");r&&(a=r.dataset.shareContent,r.setAttribute("href",`//www.facebook.com/sharer/sharer.php?u=${t}&quote=`+a)),d&&(r=d.dataset.shareContent,d.setAttribute("href",`//twitter.com/intent/tweet?source=${t}&text=${t}%20`+r)),c&&(a=c.dataset.shareContent,d=encodeURIComponent(c.dataset.shareMedia),c.setAttribute("href",`//pinterest.com/pin/create/button/?url=${t}&media=${d}&description=`+a)),l&&l.setAttribute("href","//api.whatsapp.com/send?text="+t),u&&(r=u.dataset.shareTitle,c=u.dataset.shareDescription,u.setAttribute("href",`//www.linkedin.com/shareArticle?mini=true&url=${t}&title=${r}&summary=${c}&source=`+t)),h&&(d=h.dataset.shareContent,h.setAttribute("href",`//www.reddit.com/submit?url=${t}&title=`+d)),m&&(l=m.dataset.shareContent,u=m.dataset.shareTitle,m.setAttribute("href",`mailto:?subject=${u}&body=${t}%0D%0D${l}%0D`)),s&&s.setAttribute("href",`fb-messenger://share/?link=${t}&app_id=`+i.facebookPageId)}else y(n.noItems,!0),y(n.wishlistSocial,!1)}function b(){w(),p(),f(),document.querySelectorAll(n.addonContainer).forEach(e=>{e.removeAttribute("hidden")})}function w(){var e=g();if(e&&e.length){const t=e.filter(e=>!!e);t.forEach(e=>{document.querySelectorAll(n.addButtons+`[data-product-handle="${e}"]`).forEach(e=>{e.classList.add(o.active),e.classList.remove(o.inactive),e.setAttribute("aria-label",i.removeText),e.setAttribute("title",i.removeText),e.classList.contains(o.productPageButton)&&(e.querySelector(n.wishListButtonText).innerText=i.removeText)})}),y(n.bubbleIcons,!0),theme.helpers.loadComponent("fetchProductMarkup",()=>{theme.FetchProductMarkup({template:"wish-list",productHandles:t},e=>{S(Object.entries(e).reduce((e,[,t])=>t.includes("<!doctype html>")?e:e+1,0))})})}else S(0)}function p(){document.querySelectorAll(n.addButtons).forEach(s=>{s.hasAttribute("data-has-click-event")||(s.addEventListener("click",()=>{var e=s.dataset.productHandle;const t=s.classList.contains(o.active);var a=!t;e&&(document.querySelectorAll(n.addButtons+`[data-product-handle="${e}"]`).forEach(e=>{t?(e.classList.remove(o.active),e.classList.add(o.inactive),e.setAttribute("aria-label",i.addText),e.setAttribute("title",i.addText),e.classList.contains(o.productPageButton)&&(e.querySelector(n.wishListButtonText).innerText=i.addText)):(e.classList.add(o.active),e.classList.remove(o.inactive),e.setAttribute("aria-label",i.removeText),e.setAttribute("title",i.removeText),e.classList.contains(o.productPageButton)&&(e.querySelector(n.wishListButtonText).innerText=i.removeText))}),v(a,e))}),s.setAttribute("data-has-click-event","true"))})}function f(){document.querySelectorAll(n.removeButtons).forEach(t=>{t.hasAttribute("data-has-click-event")||(t.addEventListener("click",e=>{e.preventDefault();e=t.dataset.productHandle;e&&!t.hasAttribute("data-has-remove-event")&&v(!1,e)}),t.setAttribute("data-has-click-event","true"))})}function v(e,t){var a=document.querySelector(n.item+`[data-product-handle="${t}"]`);let s=g();e?s?s.push(t):s=[t]:(a&&a.remove(),s=s.filter(e=>e!==t)),s&&s.length?(y(n.bubbleIcons,!0),y(n.noItems,!1),y(n.wishlistSocial,!0)):(y(n.bubbleIcons,!1),y(n.noItems,!0),y(n.wishlistSocial,!1)),A(s=JSON.stringify(s)),w()}function y(e,t){e&&document.querySelectorAll(e).forEach(e=>{t?e.classList.remove("hidden"):e.classList.add("hidden")})}function S(t){document.querySelectorAll(n.wlCounts).forEach(e=>{e.innerHTML=t})}function g(){var e=localStorage.getItem(i.localStorageName);return JSON.parse(e)}function A(e){localStorage.setItem(i.localStorageName,e)}b(),document.addEventListener("shopify:section:load",e=>{b()}),document.addEventListener("theme:section:product-recommendations:loaded",e=>{b()}),document.addEventListener("theme:addon:collection-filters:loaded",()=>{b()}),document.addEventListener("theme:addon:infinite-scroll:loaded",()=>{b()}),document.addEventListener("theme:addon:mega-menu:loaded",()=>{b()}),document.addEventListener("theme:addon:recently-viewed:loaded",()=>{b()}),document.body.classList.add(o.enabledAddon)}();