!function(){const d={productSection:".product.section",thumbnail:"[data-product-thumbnail]",mediaGroup:"[data-product-media-group]",productJSON:"[data-product-json]",masterSelect:"[data-product-master-select]"};function t(){document.querySelectorAll(d.productSection).forEach(r=>{const c=r.dataset.sectionId,i=r.querySelectorAll(d.thumbnail);if(!(i.length<=1)){var e=r.querySelector(d.productJSON);const s=e?JSON.parse(e.innerHTML):null;if(s&&!(s.variants.length<=1)){const t=r.querySelector(d.mediaGroup);if(t){let n=null;theme.helpers.loadComponent("slider",()=>{theme.Slider.watch(t,{beforeChange:(e,t,a,o)=>{n=o},afterChange:(e,t,a)=>{if(n===a){n=0;var o,a=function(a,o,n){n=n.querySelector(d.masterSelect);if(n){var r,c=n.options[n.selectedIndex];let t=[],e=(o.variants.forEach(e=>{e.featured_media&&e.featured_media.id&&e.featured_media.id===a&&t.push(e)}),3);for(;0<e;){const i=theme.helpers.safelyParseJson(c.dataset.variantSettings)["option"+e];""!==i&&(r=t.filter(e=>Object.values(e).includes(i)),t=r.length?r:t),e--}return t.shift()}}(+i[a].closest(d.thumbnail).dataset.mediaId.replace(c+"-",""),s,r);a&&(o=r,[a.option1,a.option2,a.option3].forEach((a,e)=>{o.querySelectorAll(`[data-product-option-selector][name='option${e+1}'][value='${CSS.escape(a)}'], [data-product-option-selector][name='option${e+1}'] option[value='${CSS.escape(a)}'], .js-color-swatch[data-option-position='option${e+1}'][value='${CSS.escape(a)}']`).forEach(e=>{var t=e.closest("[data-product-option-selector]");e.checked=!0,e.value=a,t&&(t.value=a,t.dispatchEvent(new Event("change"))),e.dispatchEvent(new Event("change"))})}));{a=r;a=r.querySelectorAll("lite-youtube, lite-vimeo, video");let t;a.forEach(e=>{switch(e.tagName){case"LITE-YOUTUBE":(t=e.querySelector("iframe"))&&t.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");break;case"LITE-VIMEO":(t=e.querySelector("iframe"))&&t.contentWindow.postMessage('{"method":"pause","value":"true"}',"*");break;case"VIDEO":e.pause()}})}}}})})}}}})}t(),document.addEventListener("theme:addon:quick-view:loaded",e=>{t()})}();