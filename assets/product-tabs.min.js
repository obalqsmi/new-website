!function(){const p={},h={addonSection:".dbtfy-product-tabs",addonContainer:".dbtfy-product-tabs-container",verticalTab:".dbtfy-product-tabs__tab--vertical",triggerButton:".dbtfy-product-tabs__trigger-button",tabContent:".dbtfy-product-tabs__content",productJSON:"[data-product-json]"};function e(){var e=document.querySelector(h.addonSection);if(e){var t=theme.helpers.safelyParseJson(e.dataset.sectionSettings);if(t){if(p.showAsSeparateSection=t.showAsSeparateSection,p.displayType=t.displayType,p.headingColor=t.headingColor,p.textColor=t.textColor,p.backgroundColor=t.backgroundColor,"vertical"===p.displayType){const i=e.querySelectorAll(h.verticalTab);if(!i.length)return;t=document.querySelectorAll(".product.section");const o={};if(t.forEach(e=>{e=e.querySelector(h.productJSON);const r=e?JSON.parse(e.innerHTML):null;if(r){const n=r.handle;i.forEach(e=>{var t=theme.helpers.safelyParseJson(e.dataset.blockSettings);t&&theme.Visibility.check(r,t,()=>{o[n]?o[n].includes(e)||o[n].push(e):o[n]=[e]})})}}),!Object.keys(o).length)return;for(const[r,i]of Object.entries(o))document.querySelectorAll(`.product.section[data-product-handle="${r}"]`).forEach(e=>{var t=e.querySelector(h.addonContainer);if(t){var r=e.closest(".shopify-section");const a=document.createElement("div");a.classList.add("dbtfy-product-tabs","dbtfy-product-tabs--heading-color-"+p.headingColor,"dbtfy-product-tabs--text-color-"+p.textColor,"dbtfy-product-tabs--background-color-"+p.backgroundColor,"row","gy-3"),i.forEach(e=>{a.insertAdjacentElement("beforeend",e.cloneNode(!0))}),p.showAsSeparateSection?(r.nextElementSibling.querySelectorAll(h.addonSection).forEach(e=>{e.remove()}),d=document.createElement("section"),c=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div"),d.classList.add("section","section--border"),c.classList.add("container"),o.classList.add("row"),n.classList.add("col-md-8","offset-md-2"),n.insertAdjacentElement("afterbegin",a),o.insertAdjacentElement("afterbegin",n),c.insertAdjacentElement("afterbegin",o),d.insertAdjacentElement("afterbegin",c),r.insertAdjacentElement("afterend",d)):(e.querySelectorAll(h.addonSection).forEach(e=>{e.remove()}),t.insertAdjacentElement("afterbegin",a),t.removeAttribute("hidden"));var n=r.parentElement.querySelector(".dbtfy-product-tabs__tab--description .tab__content .rte"),o=r.querySelector(".product__tab-content--description"),c=(n&&o&&(n.innerHTML||n.insertAdjacentHTML("afterbegin",o.innerHTML)),r.parentElement.querySelector(".dbtfy-product-tabs__tab--reviews .tab__content")),d=document.querySelector(".product-reviews-wrapper .review-widget");c&&d&&(c.innerHTML.trim()||(d.closest(".product-reviews-wrapper").setAttribute("hidden","hidden"),c.insertAdjacentElement("afterbegin",d))),theme.helpers.loadComponent("imagesLazyloading",()=>{theme.imagesLazyLoading()})}})}else{const c=e.querySelectorAll(h.triggerButton),d=e.querySelectorAll(h.tabContent);if(!c.length||!d.length)return;t=document.querySelectorAll(".product.section");const a={},s={};if(t.forEach(e=>{e=e.querySelector(h.productJSON);const r=e?JSON.parse(e.innerHTML):null;if(r){const n=r.handle;c.forEach(e=>{var t=theme.helpers.safelyParseJson(e.dataset.blockSettings);t&&theme.Visibility.check(r,t,()=>{a[n]?a[n].includes(e)||a[n].push(e):a[n]=[e]})}),d.forEach(e=>{var t=theme.helpers.safelyParseJson(e.dataset.blockSettings);t&&theme.Visibility.check(r,t,()=>{s[n]?s[n].includes(e)||s[n].push(e):s[n]=[e]})})}}),!Object.keys(a).length||!Object.keys(s).length)return;for(const[n,l]of Object.entries(a))document.querySelectorAll(`.product.section[data-product-handle="${n}"]`).forEach(e=>{var t=e.querySelector(h.addonContainer);if(t){var r,n,o,c,d=e.closest(".shopify-section");const a=document.createElement("div");a.classList.add("dbtfy-product-tabs","dbtfy-product-tabs--horizontal-buttons","dbtfy-product-tabs--heading-color-"+p.headingColor,"dbtfy-product-tabs--text-color-"+p.textColor,"dbtfy-product-tabs--background-color-"+p.backgroundColor),l.forEach(e=>{a.insertAdjacentElement("beforeend",e.cloneNode(!0))}),p.showAsSeparateSection?(d.nextElementSibling.querySelectorAll(h.addonSection).forEach(e=>{e.remove()}),r=document.createElement("section"),n=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div"),r.classList.add("dbtfy-product-tabs-section-container","section","section--border"),n.classList.add("container"),o.classList.add("row"),c.classList.add("col-md-8","offset-md-2"),c.insertAdjacentElement("afterbegin",a),o.insertAdjacentElement("afterbegin",c),n.insertAdjacentElement("afterbegin",o),r.insertAdjacentElement("afterbegin",n),d.insertAdjacentElement("afterend",r)):(e.querySelectorAll(h.addonSection).forEach(e=>{e.remove()}),t.insertAdjacentElement("beforeend",a),t.removeAttribute("hidden"))}});for(const[u,b]of Object.entries(s))document.querySelectorAll(`.product.section[data-product-handle="${u}"]`).forEach(e=>{var t=e.querySelector(h.addonContainer);if(t){e=e.closest(".shopify-section");const n=document.createElement("div");if(n.classList.add("dbtfy-product-tabs","dbtfy-product-tabs--horizontal-content","dbtfy-product-tabs--heading-color-"+p.headingColor,"dbtfy-product-tabs--text-color-"+p.textColor,"dbtfy-product-tabs--background-color-"+p.backgroundColor),b.forEach(e=>{n.insertAdjacentElement("beforeend",e.cloneNode(!0))}),p.showAsSeparateSection){var r=document.querySelector(".dbtfy-product-tabs-section-container .dbtfy-product-tabs");r&&r.insertAdjacentElement("afterend",n)}else{t.insertAdjacentElement("beforeend",n),t.removeAttribute("hidden");const o=t.querySelector(".dbtfy-product-tabs__content--reviews .tab__content"),c=document.querySelector(".product-reviews-wrapper .review-widget");o&&c&&(o.innerHTML.trim()||(c.closest(".product-reviews-wrapper").setAttribute("hidden","hidden"),o.insertAdjacentElement("afterbegin",c)))}r=e.nextElementSibling.querySelector(".dbtfy-product-tabs__content--description .tab__content .rte"),t=e.querySelector(".product__tab-content--description");r&&t&&(r.innerHTML.trim()||r.insertAdjacentHTML("afterbegin",t.innerHTML));const o=e.nextElementSibling.querySelector(".dbtfy-product-tabs__content--reviews .tab__content"),c=document.querySelector(".product-reviews-wrapper .review-widget");o&&c&&(o.innerHTML.trim()||(c.closest(".product-reviews-wrapper").setAttribute("hidden","hidden"),o.insertAdjacentElement("afterbegin",c)))}});{const m=document.querySelectorAll(`.product.section ${h.triggerButton}, .dbtfy-product-tabs-section-container `+h.triggerButton),f=document.querySelectorAll(`.product.section ${h.tabContent}, .dbtfy-product-tabs-section-container `+h.tabContent);m.forEach(r=>{r.addEventListener("click",()=>{const t=r.getAttribute("aria-controls");var e;t&&(m.forEach(e=>{e.classList.remove("active")}),r.classList.add("active"),f.forEach(e=>{e.setAttribute("hidden","hidden")}),e=Array.from(f).find(e=>{e=e.querySelector(".tab__body")?.id;return!!e&&e===t}))&&e.removeAttribute("hidden")})})}theme.helpers.loadComponent("imagesLazyloading",()=>{theme.imagesLazyLoading()})}const i=document.querySelectorAll(h.addonSection+" .tab");i.forEach(e=>{e=e.querySelector(".tab__header");e&&e.removeAttribute("data-has-click-event")}),theme.Tabs.init(),document.dispatchEvent(new CustomEvent("theme:addon:product-tabs:loaded"))}}}theme.helpers.loadComponents(["visibility","tabs"],()=>{e()}),document.addEventListener("shopify:section:load",()=>{theme.helpers.loadComponents(["visibility","tabs"],()=>{e()})})}();