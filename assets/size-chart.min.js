!function(){const a={addonSection:".dbtfy-size-chart",sizeGuide:".dbtfy-size-chart-guide",sizeGuideModal:".dbtfy-size-chart-guide__modal",sizeGuideButton:".dbtfy-size-chart-guide__button",addonContainer:".dbtfy-size-chart-container",productJSON:"[data-product-json]"};function t(){const c=document.querySelector(a.addonSection);if(c&&c.querySelectorAll(a.sizeGuide).length){var e,t,o=theme.Visibility.sort(c,a.sizeGuide);const i=document.querySelectorAll(".product.section");for([e,t]of o)t.forEach(n=>{const r=theme.helpers.safelyParseJson(n.dataset.blockSettings);if(r){const t={...r,template:n.cloneNode(!0)};i.forEach(d=>{var e=d.querySelector(a.productJSON),e=e?JSON.parse(e.innerHTML):null;e&&theme.Visibility.check(e,t,()=>{var e=d,t=(t={...r,template:n.cloneNode(!0)}).template,o=e.querySelector(a.sizeGuide);if(e=e.querySelector(a.addonContainer)){o&&o.remove();o=t.querySelector(a.sizeGuideModal);const i=t.querySelector(a.sizeGuideButton);if(o){const i=o.querySelector(".modal__close");i&&i.removeAttribute("data-has-modal-click-event"),document.body.insertAdjacentElement("beforeend",o)}i&&i.removeAttribute("data-has-modal-click-event"),e.insertAdjacentElement("afterbegin",t),e.removeAttribute("hidden"),c.querySelectorAll(a.sizeGuide).forEach(e=>{e.remove()}),theme.Modal.init()}})})}})}}theme.helpers.loadComponents(["visibility","modal"],()=>{t()}),document.addEventListener("shopify:section:load",e=>{theme.helpers.loadComponents(["visibility","modal"],()=>{t()})})}();