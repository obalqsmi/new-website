!function(){const w={icon:".dbtfy-quick-view__icon",container:".dbtfy-quick-view--container",content:".dbtfy-quick-view__content",productGallery:"[data-product-gallery]",productMediaGroup:"[data-product-media-group]",productMediaWrapper:"[data-product-media-wrapper]",productMediaFlexWrapper:"[data-product-media-flex-wrapper]",productMediaTypeModel:"[data-product-media-type-model]",productMediaTypeVideo:"[data-product-media-type-video]",productThumbnails:"[data-product-thumbnails]",productThumbnail:"[data-product-thumbnail]",productOption:"[data-product-option]",productOptionLabel:"[data-product-option-label]",singleOptionSelector:"[data-product-option-selector]",masterSelect:"[data-product-master-select]",productJSON:"[data-product-json]",productMeta:"[data-product-meta]",productPriceContainer:"[data-product-price-container]",productPrice:"[data-product-price]",productPriceCompare:"[data-product-price-compare]",addToCart:"[data-product-add-to-cart]",addToCartText:"[data-product-add-to-cart-text]",productFullDetails:"[data-product-full-details]",unitPrice:"[data-unit-price]",unitPriceBaseUnit:"[data-unit-price-base-unit]",sku:"[data-product-sku]",productQuantity:"[data-product-quantity]",productQuantityInput:"[data-product-quantity-input]",productQuantityButton:"[data-product-quantity-button]"},T={enabledAddon:"dbtfy-quick-view-enabled",priceContainerUnitAvailable:"product-price-container--unit-available",featuredMedia:"featured-media",hidden:"hidden",soldOut:"product__meta--sold-out"};function t(){var e=document.querySelectorAll(w.icon);const r=document.querySelector(w.container+" "+w.content);r&&e.forEach(a=>{a.hasAttribute("data-has-click-event")||(a.addEventListener("click",()=>{theme.helpers.loadComponents(["loadingState","fetchProductMarkup"],()=>{const t=a.dataset.productHandle;t&&(theme.loadingState.init(a),theme.FetchProductMarkup({template:"quick-view",productHandles:t},e=>{for(e=e[t];r.firstChild;)r.removeChild(r.firstChild);r.insertAdjacentHTML("afterbegin",e),theme.helpers.loadComponents(["modal","ajaxCart"],()=>{{var e={productHandle:t,button:a};const g=document.querySelector("#QuickView-"+e.productHandle);g&&(theme.loadingState.destroy(e.button),theme.ajaxCart.init(),theme.loadingState.initForm(),theme.helpers.loadComponents(["slider","variants","productQuantities","productModel"],()=>{{var n=g;const s=theme.helpers.safelyParseJson(n.dataset.sectionSettings);if(s){const l=n.querySelector(w.productGallery),p=n.querySelector(w.productMeta),m=n.querySelector(w.masterSelect),h=n.querySelector(w.productPriceContainer),y=n.querySelector(w.productPrice),v=n.querySelector(w.productPriceCompare),S=n.querySelectorAll(w.productOptionLabel),e=n.querySelectorAll(w.singleOptionSelector),t=n.querySelector(w.productQuantity),a=n.querySelector(w.productQuantityInput),f=n.querySelector(w.sku),b=n.querySelector(w.unitPrice),q=n.querySelector(w.unitPriceBaseUnit),M=n.querySelector(w.addToCart),L=n.querySelector(w.addToCartText),E=n.querySelector(w.productFullDetails),r=theme.helpers.safelyParseJson(n.querySelector(w.productJSON).innerHTML);function i(){var e=n.querySelector(w.productMediaGroup),t=n.querySelectorAll(w.productThumbnail);const a=n.querySelector(w.productThumbnails);e&&u(e),!e||!a||t.length<2||(t={slidesToShow:5,slidesToScroll:1,focusOnSelect:!0,infinite:!1,swipeToSlide:!0,arrows:!0,dots:!1,asNavFor:e,speed:window.themeVariables.animation.speed},theme.Slider.init({slider:a,options:t,events:{init:()=>{u(a)}}}))}function o(e){var t=n.querySelectorAll(w.productMediaWrapper);t.length&&(t.forEach(e=>{e.dispatchEvent(new CustomEvent("mediaHidden"))}),t=n.querySelector(w.productMediaWrapper+`[data-media-id='${e}']`))&&t.dispatchEvent(new CustomEvent("mediaVisible"))}function d(){o(n.querySelector(w.productMediaGroup+" .slick-slide.slick-active "+w.productMediaWrapper).dataset.mediaId)}function c(i){function e(e){var t=e.querySelector("lite-youtube, lite-vimeo, video");let a,r;if(t)switch(t.tagName){case"LITE-YOUTUBE":"vimeo"!==i&&(a=t.querySelector(".lty-playbtn"),r=t.querySelector("iframe"),a&&!r&&a.click(),r)&&r.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");break;case"LITE-VIMEO":"youtube"!==i&&(a=t.querySelector(".ltv-playbtn"),r=t.querySelector("iframe"),a&&!r&&a.click(),r)&&r.contentWindow.postMessage('{"method":"play","value":"true"}',"*");break;case"VIDEO":t.play()}}n.querySelectorAll(w.productMediaTypeVideo).forEach(r=>{r.classList.contains(T.featuredMedia)&&e(r),r.addEventListener("mediaVisible",()=>{e(r)}),r.addEventListener("mediaHidden",()=>{{var t,a=r.querySelector("lite-youtube, lite-vimeo, video");let e;if(a)switch(a.tagName){case"LITE-YOUTUBE":(e=a.querySelector("iframe"))&&e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");break;case"LITE-VIMEO":(e=a.querySelector("iframe"))&&e.contentWindow.postMessage('{"method":"pause","value":"true"}',"*");break;case"VIDEO":a.pause()}}})}),theme.helpers.handleVideos()}function u(e){e&&(e.querySelectorAll("img[data-src]").forEach(e=>{var t=e.dataset.src,a=e.dataset.srcset;e.setAttribute("src",t),a&&e.setAttribute("srcset",a),e.removeAttribute("data-src"),e.removeAttribute("data-srcset")}),theme.helpers.loadComponent("imagesLazyloading",()=>{theme.imagesLazyLoading()}))}!function(){const a=n.querySelector(w.productMediaGroup),e=n.querySelector(w.productMediaFlexWrapper),t=n.querySelector(w.productThumbnails);var r;!a||!t||e<2?(theme.Modal.init(),theme.Modal.open(n),i()):(r={slidesToShow:1,slidesToScroll:1,focusOnSelect:!1,infinite:!1,adaptiveHeight:!0,arrows:!0,dots:!1,asNavFor:t,speed:window.themeVariables.animation.speed},theme.Slider.init({slider:a,options:r,events:{afterChange:d,init:()=>{var e,t;theme.Modal.init(),theme.Modal.open(n),i(),u(a),l&&(e=l.querySelector("lite-youtube"),t=l.querySelector("lite-vimeo"),(e||t)&&(e&&theme.helpers.initYoutubeLite(()=>{c("youtube")}),t&&theme.helpers.initVimeoLite(l,()=>{c("vimeo")}),theme.helpers.lazyLoadPosters(l)),c()),theme.helpers.handleVideos()}}}))}(),!function(){var e=s.hasModel;e&&(e=n.querySelectorAll(w.productMediaTypeModel),theme.ProductModel.init(e,s.sectionId))}(),document.addEventListener("shopify_xr_launch",()=>{var e=n.querySelector(`${w.productMediaWrapper}:not(.${T.hidden})`);e&&e.dispatchEvent(new CustomEvent("xrLaunch"))}),!function(){var e={container:n,enableHistoryState:s.enableHistoryState,singleOptionSelector:w.singleOptionSelector,masterSelect:w.masterSelect,product:r},e=new theme.Variants(e);n.addEventListener("variantChange",e=>{{var t=e;const i=window.themeVariables.settings.moneyFormat,n=t.detail.variant,o=window.themeVariables.strings;function a(){M.classList.remove("disabled"),M.removeAttribute("disabled"),L.innerHTML=o.addToCartButton,p.classList.remove(T.soldOut),E&&(E.href=function(e,t,a){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=-1===e.indexOf("?")?"?":"&";if(e.match(r))return e.replace(r,"$1"+t+"="+a+"$2");return e+i+t+"="+a}(E.href,"variant",n.id))}function r(){M.classList.add("disabled"),M.setAttribute("disabled","disabled"),L.innerHTML=o.soldOutButton,p.classList.add(T.soldOut)}n?(t=m.querySelector(`option[value="${n.id}"]`),(t=theme.helpers.safelyParseJson(t.dataset.variantSettings)).inventoryQuantity,t.inventoryPolicy,h.classList.remove(T.priceContainerUnitAvailable),(n.available?(n.inventory_management,a):r)(),y.innerHTML=`<span class="money">${theme.Currency.formatMoney(n.price,i)}</span>`,n.compare_at_price>n.price?(y.classList.add("on-sale","text-sale"),y.setAttribute("aria-label",o.salePrice),v.innerHTML=`<span class="money">${theme.Currency.formatMoney(n.compare_at_price,i)}</span>`,v.classList.remove(T.hidden)):(y.classList.remove("on-sale","text-sale"),y.setAttribute("aria-label",o.regularPrice),v.innerHTML="",v.classList.add(T.hidden)),n.unit_price&&(b.innerHTML=`<span class="money">${theme.Currency.formatMoney(n.unit_price,i)}</span>`,q.innerHTML=function(e){return 1===e.unit_price_measurement.reference_value?e.unit_price_measurement.reference_unit:e.unit_price_measurement.reference_value+e.unit_price_measurement.reference_unit}(n),h.classList.add(T.priceContainerUnitAvailable)),f&&(n.sku?(f.innerHTML=n.sku,f.parentElement.classList.remove(T.hidden)):f.parentElement.classList.add(T.hidden))):r(),document.dispatchEvent(new CustomEvent("theme:addon:custom-currencies:convert-prices"))}{const d=(t=e).detail.variant;d&&S.forEach(e=>{var t=e.dataset.optionName,a=e.dataset.optionIndex,a=d["option"+a],e=e.querySelector("span:first-of-type");e&&(e.innerHTML=t+`: <span class="text-sub">${a}</span>`)})}}),1===e.product.variants.length&&n.dispatchEvent(new CustomEvent("variantChange",{detail:{variant:e.product.variants[0]}}));n.addEventListener("variantMediaChange",e=>{var t,a,r;e=(e=e).detail.variant,t=s.sectionId+"-"+e.featured_media.id,a=n.querySelector(w.productMediaWrapper+`[data-media-id="${t}"]`),r=n.querySelector(w.productThumbnail+`[data-media-id="${t}"]`),a&&r&&(o(t),e&&e.featured_media&&(n.querySelectorAll(w.productMediaWrapper).forEach(e=>{e.classList.remove(T.featuredMedia)}),a.classList.add(T.featuredMedia)),r=a.closest(".slick-slide"),t=+r?.dataset.slickIndex,Number.isInteger(t))&&(e=n.querySelector(w.productMediaGroup))&&$(e).slick("slickGoTo",t)});e=n.querySelector(w.singleOptionSelector);e&&e.dispatchEvent(new Event("change"))}(),t&&(theme.ProductQuantities.setMaxQuantity(t,a,m),theme.ProductQuantities.checkQuantity(t,a,m),theme.ProductQuantities.setVariantQuantities(t,a,m),theme.ProductQuantities.syncQuantityInputs(a),t.querySelectorAll(w.productQuantityButton).forEach(e=>{e.addEventListener("click",()=>{theme.ProductQuantities.checkQuantity(t,a,m),theme.ProductQuantities.syncQuantityInputs(a)})}),a&&a.addEventListener("keydown",function(e){e=e.code;"ArrowUp"!==e&&"ArrowDown"!==e&&!e.includes("Digit")||setTimeout(()=>{theme.ProductQuantities.checkQuantity(t,a,m),theme.ProductQuantities.syncQuantityInputs(a)})}),e.forEach(e=>{e.addEventListener("change",async()=>{theme.ProductQuantities.setMaxQuantity(t,a,m),theme.ProductQuantities.checkQuantity(t,a,m),theme.ProductQuantities.syncQuantityInputs(a)})}))}}}),document.addEventListener("theme:cart:loaded",e=>{theme.Modal.close(g)}),document.dispatchEvent(new CustomEvent("theme:addon:quick-view:loaded")))}})}))})}),a.setAttribute("data-has-click-event","true"))})}document.body.classList.add(T.enabledAddon),t(),document.addEventListener("shopify:section:load",e=>{t()}),document.addEventListener("theme:section:product-recommendations:loaded",e=>{t()}),document.addEventListener("theme:addon:collection-filters:loaded",()=>{t()}),document.addEventListener("theme:addon:infinite-scroll:loaded",e=>{t()}),document.addEventListener("theme:addon:mega-menu:loaded",()=>{t()}),document.addEventListener("theme:addon:recently-viewed:loaded",()=>{t()})}();