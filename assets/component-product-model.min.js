window.theme=window.theme||{},theme.ProductModel=function(){const n={},r={},s={},a={productMediaGroup:"[data-product-media-group]",productGallery:"[data-product-gallery]",xrButton:"[data-shopify-xr]",xrButtonSingle:"[data-shopify-xr-single]"},d={viewInSpaceDisabled:"product__view-in-space--disabled"};function l(e){if(!e)if(window.ShopifyXR){for(const o in n){var t,i;!n.hasOwnProperty(o)||(t=n[o]).loaded||(i=document.querySelector("#ModelJson-"+o),window.ShopifyXR.addModels(JSON.parse(i.innerHTML)),t.loaded=!0)}window.ShopifyXR.setupXRElements()}else document.addEventListener("shopify_xr_initialized",function(e){e.detail.shopifyXREnabled?l():document.querySelectorAll(a.xrButton).forEach(e=>{e.classList.add(d.viewInSpaceDisabled)})})}function t(e){if(!e)for(const i in r){var t;r.hasOwnProperty(i)&&((t=r[i]).modelViewerUi||(t.modelViewerUi=new Shopify.ModelViewerUI(t.element)),function(e){const t=s[e.sectionId],i=e.container.closest(a.productMediaGroup);e.element.addEventListener("shopify_model_viewer_ui_toggle_play",function(){theme.updateSlickSwipe(i,!1)}),e.element.addEventListener("shopify_model_viewer_ui_toggle_pause",function(){theme.updateSlickSwipe(i,!0)}),e.container.addEventListener("mediaVisible",function(){t.element.setAttribute("data-shopify-model3d-id",e.modelId),e.modelViewerUi.play()}),e.container.addEventListener("mediaHidden",function(){t.element.setAttribute("data-shopify-model3d-id",t.defaultId),e.modelViewerUi.pause()}),e.container.addEventListener("xrLaunch",function(){e.modelViewerUi.pause()})}(t))}}return{init:function(e,d){n[d]={loaded:!1},e.forEach((e,t)=>{var i=e.dataset.mediaId,o=e.querySelector("model-viewer"),n=o.dataset.modelId;0===t&&(t=e.closest(a.productGallery).querySelector(a.xrButtonSingle),s[d]={element:t,defaultId:n}),r[i]={modelId:n,sectionId:d,container:e,element:o}}),window.Shopify.loadFeatures([{name:"shopify-xr",version:"1.0",onLoad:l}]),r.length<1||(window.Shopify.loadFeatures([{name:"model-viewer-ui",version:"1.0",onLoad:t}]),e={name:"modelViewerUiStyles",type:"css",src:window.themeVariables.files.vendors.css.modelViewerUiStyles},theme.helpers.loadAsset(e).then(()=>{const i=document.querySelector(`#${d} .shopify-model-viewer-ui`);var e=new MutationObserver(()=>{var e,t;e=i,t=document.querySelectorAll(".stacked-on-top-of-content"),e.classList.contains("shopify-model-viewer-ui--fullscreen")?t.forEach(e=>{e.classList.add("stacked-content-hidden")}):t.forEach(e=>{e.classList.remove("stacked-content-hidden")})});i&&e.observe(i,{attributes:!0,childList:!1,subtree:!1})}))},removeSectionModels:function(e){for(const t in r)r.hasOwnProperty(t)&&r[t].sectionId===e&&(r[t].modelViewerUi.destroy(),delete r[t]);delete n[e]}}}(),theme.updateSlickSwipe=function(e,t){e.classList.contains("slick-initialized")&&(t={accessibility:t,draggable:t,swipe:t,touchMove:t},window.jQuery)&&$().slick&&$(e).slick("slickSetOption",t,!1)};