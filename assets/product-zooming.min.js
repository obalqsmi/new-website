!function(){var e={addon:window.themeVariables.settings.addons.productZooming};const t={zoomType:e.addon.zoomType,showArrows:e.addon.showArrows},a={addonSection:".dbtfy-product-zooming",button:".dbtfy-product-zooming__button"},o={enabledAddon:"dbtfy-product-zooming-enabled",fullScreenImageEnabled:"dbtfy-product-zooming-full-screen-enabled",fullScreenImageShowArrows:"dbtfy-product-zooming-full-screen-show-arrows",active:"dbtfy-product-zooming__button--active"};document.body.classList.add(o.enabledAddon),(e=document.querySelectorAll(".product.section")).length&&("zoom"===t.zoomType?(e={name:"vanillaZoom",type:"js",src:window.themeVariables.files.vendors.js.vanillaZoom},theme.helpers.loadAsset(e).then(()=>{document.querySelectorAll(a.button).forEach(r=>{r.hasAttribute("data-has-click-event")||(r.addEventListener("click",()=>{var e,t,a=r.closest("[data-product-media-wrapper]")?.querySelector(".media-wrapper");a&&(r.classList.contains(o.active)?(e=a,(t=window.vanillaZoom)&&t.destroy(e),r.classList.remove(o.active)):(r.classList.add(o.active),t=a,(e=window.vanillaZoom)&&e.init(t)))}),r.setAttribute("data-has-click-event","true"))})})):(document.body.classList.add(o.fullScreenImageEnabled),t.showArrows&&document.body.classList.add(o.fullScreenImageShowArrows),e=[{name:"fancybox",type:"js",src:window.themeVariables.files.vendors.js.fancybox},{name:"fancybox",type:"css",src:window.themeVariables.files.vendors.css.fancybox}],theme.helpers.loadAssets(e,()=>{document.querySelectorAll(".product.section").forEach(e=>{const d=e.dataset.sectionId;e=e.querySelector(".product__gallery");e&&(e.querySelectorAll(`
        .product__media-wrapper .media-wrapper > lite-youtube,
        .product__media-wrapper .media-wrapper > lite-vimeo,
        .product__media-wrapper .media-wrapper > video
      `).forEach(e=>{e.parentElement.classList.add("media-wrapper--cover"),e.hasAttribute("data-image-set")&&e.remove()}),e.querySelectorAll(`
        .product__media-wrapper .media-wrapper > img,
        .product__media-wrapper .media-wrapper > video,
        .product__media-wrapper .media-wrapper model-viewer
      `).forEach(e=>{let t,a;switch(e.tagName){case"IMG":t=e.getAttribute("data-video-src")||e.getAttribute("src")||e.getAttribute("data-src");break;case"VIDEO":var r=e.querySelectorAll("source"),r=r[r.length-1];r&&(t=r.getAttribute("src"));break;case"MODEL-VIEWER":t=e.getAttribute("poster"),a=!0}if(t){const o=document.createElement("a");o.setAttribute("href",t),o.setAttribute("data-fancybox","gallery-"+d),o.classList.add("media-wrapper__link"),a&&o.classList.add("media-wrapper__link--model"),o.addEventListener("click",e=>{e.isTrusted&&(e.preventDefault(),o.click())}),o.appendChild(e.cloneNode(!0)),e.parentElement.replaceChild(o,e)}}),Fancybox.bind(`.product.section[data-section-id='${d}'] .product__gallery [data-fancybox='gallery-${d}']`,{on:{"Carousel.selectSlide":(e,t)=>{var a=document.querySelector(".fancybox__container .fancybox__slide.is-selected");if(a){var r=a.dataset.index,o=a.querySelector(".fancybox__content"),a=document.querySelector(`.product.section[data-section-id='${d}'] .product__gallery .product__media-flex-wrapper[data-slick-index='${r}'] .shopify-model-viewer-ui`);if(a){for(;o.firstChild;)o.removeChild(o.firstChild);o.insertAdjacentElement("afterbegin",a),o.classList.add("fancybox__content--model")}}},shouldClose:(e,t)=>{document.querySelectorAll(".fancybox__container .fancybox__content--model").forEach(e=>{var t=e.querySelector(".shopify-model-viewer-ui");t&&(e=e.parentElement.dataset.index,e=document.querySelector(`.product.section[data-section-id='${d}'] .product__gallery .product__media-flex-wrapper[data-slick-index='${e}']`))&&(e=e.querySelector(".media-wrapper__link--model"))&&e.insertAdjacentElement("afterbegin",t)})},"Carousel.ready":(e,t)=>{document.querySelectorAll("[data-fancybox-close], [data-carousel-next], [data-carousel-prev]").forEach(e=>{e.classList.add("btn","btn--secondary")})}}}))}),document.querySelectorAll(a.button).forEach(t=>{t.addEventListener("click",()=>{var e=t.closest(".product__media-wrapper")?.querySelector("a");e&&e.click()})})})))}();