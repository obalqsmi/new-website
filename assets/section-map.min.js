window.theme=window.theme||{},theme.Map=function(){const a={zoom:14};let t=null;const s=[],o={section:"[data-section-type='map-section']",map:".js-map"};function e(e){this.map=e.querySelector(o.map),this.map&&(e=this.map.dataset.apiKey)&&function(e){const o=this;"loaded"===t?document.querySelector(`script[src*="${e}&"]`)?o.createMap():theme.helpers.loadAsset({type:"js",src:"https://maps.googleapis.com/maps/api/js?key="+e}).then(()=>{t="loaded",o.createMap()}):(s.push(this),"loading"!==t&&(t="loading",void 0===window.google)&&theme.helpers.loadAsset({type:"js",src:"https://maps.googleapis.com/maps/api/js?key="+e}).then(()=>{t="loaded",s.forEach(e=>{e.createMap()})}))}.bind(this)(e)}return window.gm_authFailure=function(){Shopify.designMode&&document.querySelectorAll(o.section).forEach(e=>{e=e.querySelector(o.map);e&&e.remove()})},e.prototype=Object.assign({},e.prototype,{createMap:function(){const s=this.map;return function(e){const o=new google.maps.Geocoder,a=e.dataset.address;return new Promise(function(t,s){o.geocode({address:a},function(e,o){o!==google.maps.GeocoderStatus.OK&&s(o),t(e)})})}(s).then(function(e){e={zoom:a.zoom,center:e[0].geometry.location,draggable:!1,clickableIcons:!1,scrollwheel:!1,disableDoubleClickZoom:!0,disableDefaultUI:!0};const o=new google.maps.Map(s,e),t=o.getCenter();new google.maps.Marker({map:o,position:t});google.maps.event.addDomListener(window,"resize",function(){google.maps.event.trigger(o,"resize"),o.setCenter(t),s.removeAttribute("style")})}.bind(this))},onUnload:function(){this.map&&google.maps.event.clearListeners(this.map,"resize")}}),e}();