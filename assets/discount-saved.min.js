!function(){const o={badges:".dbtfy-discount-saved-badge",addonSection:".dbtfy-discount-saved",savedAmountItem:".dbtfy-discount-saved__item",productSection:".product.section",masterSelect:"[data-product-master-select]",optionSelector:"[data-product-option-selector]"};document.body.classList.add("dbtfy-discount-saved-enabled"),t(),document.addEventListener("shopify:section:load",e=>{t()}),document.addEventListener("theme:addon:collection-filters:loaded",()=>{t()}),document.addEventListener("theme:addon:infinite-scroll:loaded",()=>{t()}),document.addEventListener("theme:addon:mega-menu:loaded",()=>{t()}),document.addEventListener("theme:section:product-recommendations:loaded",e=>{t()}),document.addEventListener("theme:addon:recently-viewed:loaded",()=>{t()});var e=document.querySelectorAll(o.addonSection);function t(){document.querySelectorAll(o.badges).forEach(e=>{e.removeAttribute("hidden")})}function d(e,t){e.querySelectorAll(o.savedAmountItem).forEach(e=>{e.setAttribute("hidden","hidden")});var d=e.querySelector(o.masterSelect);d&&(t=t?t.id:d.value)&&e.querySelectorAll(o.savedAmountItem+`[data-variant-id='${t}']`).forEach(e=>{e.removeAttribute("hidden")})}e.length&&e.forEach(e=>{const t=e.closest(o.productSection);t&&(d(t),t.addEventListener("variantChange",e=>{e=e.detail.variant;d(t,e)}))})}();